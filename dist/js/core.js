/*! formstone v1.3.3 [core.js] 2017-08-16 | GPL-3.0 License | formstone.it */

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){h.Plugins[e].initialized||(h.Plugins[e].methods._setup.call(document),h.Plugins[e].initialized=!0)}function n(e,t,n,s){var i,r={raw:{}};s=s||{};for(i in s)s.hasOwnProperty(i)&&("classes"===e?(r.raw[s[i]]=t+"-"+s[i],r[s[i]]="."+t+"-"+s[i]):(r.raw[i]=s[i],r[i]=s[i]+"."+t));for(i in n)n.hasOwnProperty(i)&&("classes"===e?(r.raw[i]=n[i].replace(/{ns}/g,t),r[i]=n[i].replace(/{ns}/g,"."+t)):(r.raw[i]=n[i].replace(/.{ns}/g,""),r[i]=n[i].replace(/{ns}/g,t)));return r}function s(){h.windowWidth=h.$window.width(),h.windowHeight=h.$window.height(),y=p.startTimer(y,v,i)}function i(){for(var e in h.ResizeHandlers)h.ResizeHandlers.hasOwnProperty(e)&&h.ResizeHandlers[e].callback.call(window,h.windowWidth,h.windowHeight)}function r(){if(h.support.raf){h.window.requestAnimationFrame(r);for(var e in h.RAFHandlers)h.RAFHandlers.hasOwnProperty(e)&&h.RAFHandlers[e].callback.call(window)}}function o(e,t){return parseInt(e.priority)-parseInt(t.priority)}var a,l,c,u="undefined"!=typeof window?window:this,d=u.document,f=function(){this.Version="1.3.3",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=u,this.$window=e(u),this.document=d,this.$document=e(d),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},p={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(t){b[t]=!0,e.isEmptyObject(b)||k||(a.length?a.attr("content",c):a=e("head").append('<meta name="viewport" content="'+c+'">'),h.$body.on(g.gestureChange,p.killGesture).on(g.gestureStart,p.killGesture).on(g.gestureEnd,p.killGesture),k=!0)},unlockViewport:function(t){"undefined"!==e.type(b[t])&&delete b[t],e.isEmptyObject(b)&&k&&(a.length&&(l?a.attr("content",l):a.remove()),h.$body.off(g.gestureChange).off(g.gestureStart).off(g.gestureEnd),k=!1)},startTimer:function(e,t,n,s){return p.clearTimer(e),s?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=h.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),s=0;s<n.length;s++){var i=n[s].split("=");t[i[0]]=i[1]}return t}},h=new f,w=e.Deferred(),m={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},y=null,v=20,b=[],k=!1;return f.prototype.NoConflict=function(){h.DontConflict=!0;for(var t in h.Plugins)h.Plugins.hasOwnProperty(t)&&(e[t]=h.Conflicts[t],e.fn[t]=h.Conflicts.fn[t])},f.prototype.Plugin=function(s,i){return h.Plugins[s]=function(t,s){function i(n){var i,o,a,c="object"===e.type(n),u=this,d=e();for(n=e.extend(!0,{},s.defaults||{},c?n:{}),o=0,a=u.length;o<a;o++)if(i=u.eq(o),!r(i)){var f="__"+s.guid++,p=s.classes.raw.base+f,h=i.data(t+"-options"),w=e.extend(!0,{$el:i,guid:f,rawGuid:p,dotGuid:"."+p},n,"object"===e.type(h)?h:{});i.addClass(s.classes.raw.element).data(l,w),s.methods._construct.apply(i,[w].concat(Array.prototype.slice.call(arguments,c?1:0))),d=d.add(i)}for(o=0,a=d.length;o<a;o++)i=d.eq(o),s.methods._postConstruct.apply(i,[r(i)]);return u}function r(e){return e.data(l)}var a="fs-"+t,l="fs"+t.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return s.initialized=!1,s.priority=s.priority||10,s.classes=n("classes",a,m,s.classes),s.events=n("events",t,g,s.events),s.functions=e.extend({getData:r,iterate:function(t){for(var n=this,s=0,i=n.length;s<i;s++){var o=n.eq(s),a=r(o)||{};"undefined"!==e.type(a.$el)&&t.apply(o,[a].concat(Array.prototype.slice.call(arguments,1)))}return n}},p,s.functions),s.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:function(e){s.functions.iterate.apply(this,[s.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(s.classes.raw.element).removeData(l)}},s.methods),s.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(t){s.defaults=e.extend(!0,s.defaults,t||{})}},s.utilities),s.widget&&(h.Conflicts.fn[t]=e.fn[t],e.fn[l]=function(t){if(this instanceof e){var n=s.methods[t];return"object"!==e.type(t)&&t?n&&0!==t.indexOf("_")?s.functions.iterate.apply(this,[n].concat(Array.prototype.slice.call(arguments,1))):this:i.apply(this,arguments)}},h.DontConflict||(e.fn[t]=e.fn[l])),h.Conflicts[t]=e[t],e[l]=s.utilities._delegate||function(t){var n=s.utilities[t]||s.utilities._initialize||!1;if(n)return n.apply(window,Array.prototype.slice.call(arguments,"object"===e.type(t)?0:1))},h.DontConflict||(e[t]=e[l]),s.namespace=t,s.namespaceClean=l,s.guid=0,s.methods._resize&&(h.ResizeHandlers.push({namespace:t,priority:s.priority,callback:s.methods._resize}),h.ResizeHandlers.sort(o)),s.methods._raf&&(h.RAFHandlers.push({namespace:t,priority:s.priority,callback:s.methods._raf}),h.RAFHandlers.sort(o)),s}(s,i),w.then(function(){t(s)}),h.Plugins[s]},h.$window.on("resize.fs",s),s(),r(),e(function(){h.$body=e("body"),a=e('meta[name="viewport"]'),l=!!a.length&&a.attr("content"),c="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",w.resolve(),h.support.nativeMatchMedia=h.support.matchMedia&&!e("html").hasClass("no-matchmedia")}),g.clickTouchStart=g.click+" "+g.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},n=["transition","-webkit-transition"],s={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},i="transitionend",r="",o="",a=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in a.style){i=t[e],h.support.transition=!0;break}g.transitionEnd=i+".{ns}";for(e in n)if(n.hasOwnProperty(e)&&n[e]in a.style){r=n[e];break}h.transition=r;for(e in s)if(s.hasOwnProperty(e)&&s[e]in a.style){h.support.transform=!0,o=s[e];break}h.transform=o}(),window.Formstone=h,h});