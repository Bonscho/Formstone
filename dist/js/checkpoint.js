/*! formstone v1.3.3 [checkpoint.js] 2017-08-12 | GPL-3.0 License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){q=p.height(),o.iterate.call(t,j)}function d(){r=p.scrollTop(),r<0&&(r=0),r!==s&&(i(),s=r)}function e(){t=a(m.base),c()}function f(a){a.visible=!1,a.position=a.$el.position(),a.$el.addClass(n.base)}function g(a){e(),c()}function h(a){e()}function i(){o.iterate.call(t,k)}function j(a){"top"===a.anchor?a.check=0-a.offset:"middle"===a.anchor?a.check=q/2-a.offset:a.check=q-a.offset,k(a)}function k(a){var b=r+a.check;b>=a.position.top?(a.active=!0,a.$el.addClass(n.active)):a.reverse&&(a.active=!1,a.$el.removeClass(n.active))}var l=b.Plugin("checkpoint",{widget:!0,defaults:{anchor:"bottom",offset:0,reverse:!1},classes:["active"],methods:{_construct:f,_postConstruct:g,_destruct:h,_resize:c,_raf:d}}),m=(l.namespace,l.classes),n=m.raw,o=l.functions,p=(b.window,b.$window),q=0,r=0,s=0,t=[]});