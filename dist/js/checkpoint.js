/*! formstone v1.3.3 [checkpoint.js] 2017-08-12 | GPL-3.0 License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){r=q.height(),p.iterate.call(u,j)}function d(){s=q.scrollTop(),s<0&&(s=0),s!==t&&(i(),t=s)}function e(){u=a(m.base),c()}function f(a){a.visible=!1,a.position=a.$el.offset(),a.$el.addClass(n.base)}function g(a){e(),c()}function h(a){e()}function i(){p.iterate.call(u,k)}function j(a){"top"===a.anchor?a.check=0-a.offset:"middle"===a.anchor?a.check=r/2-a.offset:a.check=r-a.offset,k(a)}function k(a){var b=s+a.check;b>=a.position.top?(a.active||a.$el.trigger(o.activate),a.active=!0,a.$el.addClass(n.active)):a.reverse&&(a.active&&a.$el.trigger(o.deactivate),a.active=!1,a.$el.removeClass(n.active))}var l=b.Plugin("checkpoint",{widget:!0,defaults:{anchor:"bottom",offset:0,reverse:!1},classes:["active"],events:{activate:"activate",deactivate:"deactivate"},methods:{_construct:f,_postConstruct:g,_destruct:h,_resize:c,_raf:d}}),m=(l.namespace,l.classes),n=m.raw,o=l.events,p=l.functions,q=(b.window,b.$window),r=0,s=0,t=0,u=[]});