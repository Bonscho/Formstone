/*! formstone v1.3.3 [sticky.js] 2017-08-14 | GPL-3.0 License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){q.iterate.call(u,j)}function d(){s=r.scrollTop(),s<0&&(s=0),s!==t&&(i(),t=s)}function e(){u=a(n.base),c()}function f(b){b.stuck=!1,b.passed=!0,b.$clone=b.$el.clone(),b.container=b.$el.data("sticky-container"),b.$container=a(b.container),b.$el.addClass(o.base),b.$clone.removeClass(o.element).addClass(o.clone),b.$container.addClass(o.container),b.$stickys=a().add(b.$el).add(b.$clone),b.$el.after(b.$clone)}function g(a){e(),c()}function h(a){a.$clone.remove(),a.$container.removeClass(o.container),a.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(o.base),e()}function i(){q.iterate.call(u,l)}function j(a){if(k(a),a.$container.length){var b=a.$container.position();a.min=b.top+a.containerMargin-a.margin,a.max=a.min+a.$container.outerHeight(!1)-a.height}else{var c;c=a.stuck?a.$clone:a.$el;var d=c.position();a.min=d.top,a.max=!1}l(a)}function k(a){var b;b=a.stuck?a.$clone:a.$el,a.margin=parseInt(b.css("margin-top"),10),a.$container.length?a.containerMargin=parseInt(a.$container.css("margin-top"),10):a.containerMargin=0,a.height=b.outerHeight(),a.width=b.outerWidth()}function l(a){var b=s+a.offset;if(b>=a.min){a.stuck=!0,a.$stickys.addClass(o.stuck),a.stuck||(a.$el.trigger(p.stuck),k(a));var c=a.offset,d="";a.max&&b>a.max?(a.passed||a.$el.trigger(p.passed),a.passed=!0,a.$stickys.addClass(o.passed),c="",d=0):(a.passed=!1,a.$stickys.removeClass(o.passed)),a.$el.css({height:a.height,width:a.width,top:c,bottom:d,marginBottom:0})}else a.stuck=!1,a.$stickys.removeClass(o.stuck).removeClass(o.passed),a.stuck&&a.$el.trigger(p.unstuck),a.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}var m=b.Plugin("sticky",{widget:!0,defaults:{offset:0},classes:["sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:f,_postConstruct:g,_destruct:h,_resize:c,_raf:d}}),n=(m.namespace,m.classes),o=n.raw,p=m.events,q=m.functions,r=(b.window,b.$window),s=0,t=0,u=[]});