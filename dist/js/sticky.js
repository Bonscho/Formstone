/*! formstone v1.3.3 [sticky.js] 2017-08-13 | GPL-3.0 License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){q.iterate.call(u,j)}function d(){s=r.scrollTop(),s<0&&(s=0),s!==t&&(i(),t=s)}function e(){u=a(n.base),c()}function f(b){b.stuck=!1,b.passed=!0,b.props={},b.position=b.$el.position(),b.$clone=b.$el.clone(),b.container=b.$el.data("sticky-container"),b.$container=a(b.container),b.$el.addClass(o.base),b.$clone.removeClass(o.element).addClass(o.clone),b.$container.addClass(o.container),b.$stickys=a().add(b.$el).add(b.$clone),b.$el.after(b.$clone)}function g(a){e(),c()}function h(a){e()}function i(){q.iterate.call(u,l)}function j(a){if(k(a),a.$container.length){var b=a.$container.position();a.position=b,a.props.max=b.top+a.$container.outerHeight()-a.props.height}else a.stuck?a.position=a.$clone.position():a.position=a.$el.position(),a.props.max=!1;l(a)}function k(a){a.props.height=a.$clone.outerHeight(),a.props.width=a.$clone.outerWidth()}function l(a){var b=s+a.offset;if(b>=a.position.top){a.stuck||a.$el.trigger(p.stuck),a.stuck=!0,a.$stickys.addClass(o.stuck),k(a);var c=a.offset,d="";a.props.max&&b>a.props.max?(a.passed||a.$el.trigger(p.passed),a.passed=!0,a.$stickys.addClass(o.passed),c="",d=0):(a.passed=!1,a.$stickys.removeClass(o.passed)),a.$el.css({height:a.props.height,width:a.props.width,top:c,bottom:d})}else a.stuck&&a.$el.trigger(p.unstuck),a.stuck=!1,a.$stickys.removeClass(o.stuck).removeClass(o.passed),a.$el.css({height:"",width:"",top:"",bottom:""})}var m=b.Plugin("sticky",{widget:!0,defaults:{offset:0},classes:["sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:f,_postConstruct:g,_destruct:h,_resize:c,_raf:d}}),n=(m.namespace,m.classes),o=n.raw,p=m.events,q=m.functions,r=(b.window,b.$window),s=0,t=0,u=[]});