/*! formstone v1.3.3 [sticky.js] 2017-08-12 | GPL-3.0 License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){p.iterate.call(t,j)}function d(){r=q.scrollTop(),r<0&&(r=0),r!==s&&(i(),s=r)}function e(){t=a(n.base),c()}function f(b){b.stuck=!1,b.props={},b.position=b.$el.position(),b.$clone=b.$el.clone(),b.container=b.$el.data("sticky-container"),b.$container=a(b.container),b.$el.addClass(o.base),b.$clone.removeClass(o.element).addClass(o.clone),b.$container.addClass(o.container),b.$stickys=a().add(b.$el).add(b.$clone),b.$el.after(b.$clone)}function g(a){e(),c()}function h(a){e()}function i(){p.iterate.call(t,l)}function j(a){if(k(a),a.$container.length){var b=a.$container.position();a.position=b,a.props.max=b.top+a.$container.outerHeight()-a.props.height}else a.stuck?a.position=a.$clone.position():a.position=a.$el.position(),a.props.max=!1;l(a)}function k(a){a.props.height=a.$clone.outerHeight(),a.props.width=a.$clone.outerWidth()}function l(a){var b=r+a.offset;if(b>=a.position.top){a.stuck=!0,a.$stickys.addClass(o.stuck),k(a);var c=a.offset,d="";a.props.max&&b>a.props.max?(a.$stickys.addClass(o.passed),c="",d=0):a.$stickys.removeClass(o.passed),a.$el.css({height:a.props.height,width:a.props.width,top:c,bottom:d})}else a.stuck=!1,a.$stickys.removeClass(o.stuck).removeClass(o.passed),a.$el.css({height:"",width:"",top:"",bottom:""})}var m=b.Plugin("sticky",{widget:!0,defaults:{customClass:"",maxWidth:1/0,mobileMaxWidth:"740px",theme:"fs-light"},classes:["sticky","stuck","clone","container","passed"],events:{update:"update"},methods:{_construct:f,_postConstruct:g,_destruct:h,_resize:c,_raf:d}}),n=(m.namespace,m.classes),o=n.raw,p=(m.events,m.functions),q=(b.window,b.$window),r=0,s=0,t=[]});