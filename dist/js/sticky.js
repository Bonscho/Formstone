/*! formstone v1.3.3 [sticky.js] 2017-07-01 | GPL-3.0 License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){e(),t.on("scroll",e),o=b.$body}function d(){s.iterate.call(w,l)}function e(){u=t.scrollTop(),u<0&&(u=0)}function f(){u!==v&&(s.iterate.call(w,k),v=u)}function g(){w=a(q.base)}function h(b){b.stuck=!1,b.props={},b.position=b.$el.position(),b.$clone=b.$el.clone(),b.container=b.$el.data("sticky-container"),b.$container=a(b.container),b.$el.addClass(r.base),b.$clone.removeClass(r.element).addClass(r.clone),b.$container.addClass(r.container),b.$stickys=a().add(b.$el).add(b.$clone),b.$el.after(b.$clone),g(),console.log(b)}function i(a){}function j(a){g()}function k(a){s.iterate.call(w,n)}function l(a){if(m(a),a.$container.length){var b=a.$container.position();a.position=b,a.props.max=b.top+a.$container.outerHeight()-a.props.height}else a.position=a.$el.position(),a.props.max=!1;a.stuck&&a.$el.css({height:"",width:"",top:"",bottom:""})}function m(a){a.props.height=a.$clone.outerHeight(),a.props.width=a.$clone.outerWidth()}function n(a){var b=u+a.offset;if(b>a.position.top){m(a);var c=a.offset,d="";a.stuck=!0,a.$stickys.addClass(r.stuck),a.props.max&&b>a.props.max?(a.$stickys.addClass(r.passed),c="",d=0):a.$stickys.removeClass(r.passed),a.$el.css({height:a.props.height,width:a.props.width,top:c,bottom:d})}else a.stuck=!1,a.$el.css({height:"",width:"",top:"",bottom:""}),a.$stickys.removeClass(r.stuck).removeClass(r.passed)}var o,p=b.Plugin("sticky",{widget:!0,defaults:{customClass:"",maxWidth:1/0,mobileMaxWidth:"740px",theme:"fs-light"},classes:["sticky","stuck","clone","container","passed"],events:{update:"update"},methods:{_setup:c,_construct:h,_postConstruct:i,_destruct:j,_resize:d,_raf:f}}),q=(p.namespace,p.classes),r=q.raw,s=(p.events,p.functions),t=(b.window,b.$window),u=0,v=0,w=[]});