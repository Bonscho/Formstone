/*! formstone v1.4.0 [sticky.js] 2017-09-10 | GPL-3.0 License | formstone.it */
!function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function s(){$.iterate.call(p,o)}function n(){p=e(l.base),s()}function i(){$.iterate.call(p,c)}function o(e){if(a(e),e.$container.length){var t=e.$container.position();e.min=t.top+e.containerMargin-e.margin,e.max=e.min+e.$container.outerHeight(!1)-e.height}else{var s,n=(s=e.stuck?e.$clone:e.$el).position();e.min=n.top,e.max=!1}c(e)}function a(e){var t;t=e.stuck?e.$clone:e.$el,e.margin=parseInt(t.css("margin-top"),10),e.$container.length?e.containerMargin=parseInt(e.$container.css("margin-top"),10):e.containerMargin=0,e.height=t.outerHeight(),e.width=t.outerWidth()}function c(e){var t=f+e.offset;if(t>=e.min){e.stuck=!0,e.$stickys.addClass(d.stuck),e.stuck||(e.$el.trigger(u.stuck),a(e));var s=e.offset,n="";e.max&&t>e.max?(e.passed||e.$el.trigger(u.passed),e.passed=!0,e.$stickys.addClass(d.passed),s="",n=0):(e.passed=!1,e.$stickys.removeClass(d.passed)),e.$el.css({height:e.height,width:e.width,top:s,bottom:n,marginBottom:0})}else e.stuck=!1,e.$stickys.removeClass(d.stuck).removeClass(d.passed),e.stuck&&e.$el.trigger(u.unstuck),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}var r=t.Plugin("sticky",{widget:!0,defaults:{offset:0},classes:["sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:function(t){t.stuck=!1,t.passed=!0,t.$clone=t.$el.clone(),t.container=t.$el.data("sticky-container"),t.$container=e(t.container),t.$el.addClass(d.base),t.$clone.removeClass(d.element).addClass(d.clone),t.$container.addClass(d.container),t.$stickys=e().add(t.$el).add(t.$clone),t.$el.after(t.$clone);var s=e().add(t.$el.find("img")).add(t.$container.find("img"));s.length&&s.on(u.load,t,o)},_postConstruct:function(e){n(),s()},_destruct:function(e){e.$clone.remove(),e.$container.removeClass(d.container),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(d.base),n()},_resize:s,_raf:function(){(f=m.scrollTop())<0&&(f=0),f!==g&&(i(),g=f)},resize:o}}),l=(r.namespace,r.classes),d=l.raw,u=r.events,$=r.functions,m=(t.window,t.$window),f=0,g=0,p=[]});